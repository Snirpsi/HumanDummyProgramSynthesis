#!/usr/bin/python3
if __name__ == '__main__':
    """ A minimal webserver that converts fruits. """    
    from tornado.ioloop import IOLoop
    from tornado.web import Application, RequestHandler
    from tornado.httpserver import HTTPServer
    from tornado.iostream import IOStream
    from tornado.websocket import WebSocketHandler
    from tornado.httpclient import AsyncHTTPClient
    
    io_loop = IOLoop()
    http_server = HTTPServer(Application([
        (r"/fruits", WebSocketHandler),
    ]))
    http_server.listen(8888)
    io_loop.start()
    
    http_client = AsyncHTTPClient()
    http_client.fetch("http://localhost:8888/fruits", callback=lambda r: io_loop.stop())
    
    io_loop.start()
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    