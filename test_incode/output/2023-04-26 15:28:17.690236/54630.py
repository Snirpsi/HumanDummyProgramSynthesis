#!/usr/bin/python3
if __name__ == '__main__':
    """ A minimal webserver that returns user input. """    
    
    import sys
    
    sys.stdout.write('Content-type: text/html\n')
    sys.stdout.write('<html><head><title>User Input</title></head>')
    sys.stdout.write('<body>')
    sys.stdout.write('<form action="/user_input" method="post">')
    sys.stdout.write('<input type="text" name="user_input">')
    sys.stdout.write('<input type="submit" value="Submit">')
    sys.stdout.write('</form>')
    sys.stdout.write('</body></html>')
    
    sys.stdout.flush()
    
    form = cgi.FieldStorage(fp=sys.stdin, environ={'REQUEST_METHOD':'POST'})
    user_input = form.getvalue('user_input')
    
    print('You typed: ' + user_input)
    
    sys.stdout.flush()
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    